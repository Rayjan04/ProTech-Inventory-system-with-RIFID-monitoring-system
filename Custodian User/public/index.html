<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Inventory Custodian Login</title>
    <link rel="stylesheet" href="css/style2.css">
  </head>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>

  <body>
    <div class="center">
      <h1> </h1>
      <img src="img/logo.jpg" class="logo">
      <form method="post">
        <div class="txt_field">
          <input type="text"  id="email" required >
          <span></span>
          <label>Username</label>
        </div>
        <div class="txt_field">
          <input type="password" id="password" required>
          <span></span>
          <label>Password</label>
        </div>
        
        <input class="signup_link" type="submit" name="" value="Log In as Inventory Custodian" onclick="Login()" >
   
        </div>
      </form>
    </div>

  </body>
  
  <script>
    // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyBVp91OTtGFltfM6h3aU1apgwJQAa0UJdg",
    authDomain: "protect-custodian.firebaseapp.com",
    projectId: "protect-custodian",
    storageBucket: "protect-custodian.appspot.com",
    messagingSenderId: "215437044081",
    appId: "1:215437044081:web:9157259ccdb1dc5d572ed0",
    measurementId: "G-1DKQ13N640"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

    function Login(){
    event.preventDefault()
    var email1 = document.getElementById('email').value;
    var pass1 = document.getElementById('password').value;

    firebase.auth().signInWithEmailAndPassword(email1, pass1)
    .then((userCredential) => {
      // Signed in
      var user = userCredential.user;
      // ...
    })
    .catch((error) => {
      var errorCode = error.code;
      var errorMessage = error.message;

    window.alert(errorMessage,errorCode);
    });
    
    firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    window.location.href = 'Dashboard.html'
  } else {
    
  }
});
   
    }
  </script>

</html>
